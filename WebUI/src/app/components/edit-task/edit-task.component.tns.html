<ActionBar title="Task"></ActionBar>

<StackLayout
  *ngIf="taskModel!=null && !showCompletedMessage"
  style="padding: 0;margin:0;"
>


  <app-form
    #appForm
    *ngIf="taskModel?.form"
    [form]="taskModel.form"
  ></app-form>


  <ListView
    *ngIf="taskModel?.primaryActions!=null"
    [items]="taskModel.primaryActions"
  >
    <ng-template let-action="item">
      <Button
        class="my-button"
        [text]="action.ActionText"
        (tap)="submit(action.ActionId)"
        [isEnabled]="!taskModel.assignmentStates.assignedToCurrentUser || !isFormValid"
      ></Button>

    </ng-template>
  </ListView>
</StackLayout>

<StackLayout *ngIf="showCompletedMessage == true">
  <app-task-completed [taskCompletedModel]="taskCompletedModel"></app-task-completed>
</StackLayout>
